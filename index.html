<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>그노시아 시뮬레이터 (완성형 구조)</title>
  <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
  <header>
    <h1>그노시아 시뮬레이터</h1>
    <nav>
      <button data-panel="characters">캐릭터 관리</button>
      <button data-panel="roles">게임 설정 (역할)</button>
      <button data-panel="diagram">관계도</button>
      <button data-panel="run">시뮬레이션</button>
    </nav>
  </header>

  <!-- ◆◆◆ 캐릭터 관리 ◆◆◆ -->
  <section id="panel-characters" class="panel">
    <h2>캐릭터 생성 / 수정</h2>

    <div class="char-form">
      <label>이름<input id="char-name" /></label>
      <label>성별
        <select id="char-gender">
          <option value="남성">남성</option>
          <option value="여성">여성</option>
          <option value="범성">범성</option>
        </select>
      </label>
      <label>나이<input id="char-age" type="number" min="0" /></label>

      <h3>스테이터스 (0~50)</h3>
      <div class="grid-6">
        <label>카리스마<input id="stat-charisma" type="number" min="0" max="50" /></label>
        <label>논리력<input id="stat-logic" type="number" min="0" max="50" /></label>
        <label>연기력<input id="stat-acting" type="number" min="0" max="50" /></label>
        <label>귀염성<input id="stat-charm" type="number" min="0" max="50" /></label>
        <label>스텔스<input id="stat-stealth" type="number" min="0" max="50" /></label>
        <label>직감<input id="stat-intuition" type="number" min="0" max="50" /></label>
      </div>

      <h3>성격 (0.00~1.00)</h3>
      <div class="grid-6">
        <label>쾌활함<input id="pers-cheer" type="number" step="0.01" min="0" max="1" /></label>
        <label>사회성<input id="pers-social" type="number" step="0.01" min="0" max="1" /></label>
        <label>논리성향<input id="pers-logical" type="number" step="0.01" min="0" max="1" /></label>
        <label>상냥함<input id="pers-kind" type="number" step="0.01" min="0" max="1" /></label>
        <label>욕망<input id="pers-desire" type="number" step="0.01" min="0" max="1" /></label>
        <label>용기<input id="pers-courage" type="number" step="0.01" min="0" max="1" /></label>
      </div>

      <h3>사용 가능한 커맨드 선택</h3>
      <div id="command-checkbox-container"></div>

      <button id="btn-add-character">캐릭터 추가</button>
      <button id="btn-update-character" disabled>수정 저장</button>
      <button id="btn-cancel-edit" disabled>수정 취소</button>
    </div>

    <h2>캐릭터 목록</h2>
    <ul id="character-list"></ul>

    <button id="save-chars">세이브</button>
    <input type="file" id="load-chars" />
  </section>

  <!-- ◆◆◆ 게임 설정 (역할) ◆◆◆ -->
  <section id="panel-roles" class="panel hidden">
    <h2>역할 배치 설정</h2>

    <div class="role-grid">
      <label>엔지니어 <input type="checkbox" id="role-engineer" /></label>
      <label>닥터 <input type="checkbox" id="role-doctor" /></label>
      <label>수호천사 <input type="checkbox" id="role-guardian" /></label>
      <label>선내대기인(2명) <input type="checkbox" id="role-crew" /></label>
      <label>AC주의자 <input type="checkbox" id="role-ac" /></label>
      <label>버그 <input type="checkbox" id="role-bug" /></label>
    </div>

    <label>그노시아 수
      <input type="number" id="role-gnosia-count" min="1" max="6" />
    </label>

    <p>⚠ 캐릭터 수에 따라 가능한 그노시아 수는 자동 제한됩니다.</p>
  </section>

  <!-- ◆◆◆ 관계도 ◆◆◆ -->
  <section id="panel-diagram" class="panel hidden">
    <h2>관계도</h2>
    <canvas id="relation-canvas" width="800" height="600"></canvas>
  </section>

  <!-- ◆◆◆ 시뮬레이션 ◆◆◆ -->
  <section id="panel-run" class="panel hidden">
    <h2>시뮬레이션 실행</h2>
    <button id="run-turn">낮 턴 진행</button>
    <button id="run-night">밤 진행</button>

    <h3>로그</h3>
    <div id="log-box"></div>
  </section>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
